---
import SideMenu from "~/components/react-components/SideMenu";
import { GET } from "~/pages/api/users/loggedinuser";

const response = await GET({ ...Astro, ResponseWithEncoding: Response });
if (!(response instanceof Response)) return Astro.redirect("/404");
const { username, role } = await response.json();
---

<aside class="h-full w-full">
  <SideMenu username={username} role={role} client:only="preact" />
</aside>
