---
import SearchPage from "@components/react-components/SearchPage";
import Layout from "@layouts/Layout.astro";
import { getCurrentUser } from "~/server/misc";
const { user } = await getCurrentUser(Astro.request);
if (!user) {
  return Astro.redirect("/login");
}
const currentUser = user.username;
---

<Layout title="Search">
  <SearchPage currentUser={currentUser} client:load />
</Layout>
